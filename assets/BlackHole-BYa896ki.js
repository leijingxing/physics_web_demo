import{_ as H,r as F,c as M,o as R,a as $,b as m,d as c,e as v,f as d,w as f,g as l,F as I,h as V,i as a,t as B}from"./index-YlKLfbm5.js";const N={class:"content-card"},j={class:"visualization-container"},A={viewBox:"-250 -250 500 500"},D=["d"],E=["r"],G=["r"],U=["cx","cy","r","fill"],L={class:"control-item"},T={class:"actions"},W={class:"data-display"},C=.1,p=20,Z={__name:"BlackHole",setup(z){const _=F(40),x=F([]);let P=0,k=null;const y=M(()=>2*C*_.value/9),g=M(()=>1.5*y.value),S=M(()=>{const s=[],t=500/p;for(let n=0;n<=p;n++){let r="M";for(let e=0;e<=p;e++){const i=-250+n*t,u=-250+e*t,{y:o}=h(i,u);r+=` ${i},${o}`}s.push(r);for(let e=0;e<=p;e++){const i=-250+e*t,u=-250+n*t,{y:o}=h(i,u)}}return s});function h(s,t){const n=Math.sqrt(s*s+t*t);if(n<.1)return{y:t};const r=-2.5*_.value/n;return{y:t+t/n*r}}function w(s){const t=Math.random()*Math.PI/2+Math.PI/4,n=s?3:1.5+Math.random();x.value.push({id:P++,x:-240,y:(Math.random()-.5)*200,vx:n*Math.cos(t),vy:n*Math.sin(t),isPhoton:s})}function b(){const t=y.value;x.value=x.value.filter(n=>{const r=n.x*n.x+n.y*n.y,e=Math.sqrt(r);if(e<t||e>300)return!1;const i=-C*_.value/r,u=i*(n.x/e),o=i*(n.y/e);return n.vx+=u*.5,n.vy+=o*.5,n.x+=n.vx*.5,n.y+=n.vy*.5,!0}),k=requestAnimationFrame(b)}return R(()=>{b()}),$(()=>{k&&cancelAnimationFrame(k)}),(s,t)=>{const n=m("el-col"),r=m("el-slider"),e=m("el-button"),i=m("el-divider"),u=m("el-row");return v(),c("div",N,[d(u,{gutter:20},{default:f(()=>[d(n,{span:16},{default:f(()=>[t[3]||(t[3]=l("h3",null,"时空可视化",-1)),l("div",j,[(v(),c("svg",A,[(v(!0),c(I,null,V(S.value,(o,q)=>(v(),c("path",{key:q,d:o,fill:"none",stroke:"rgba(0, 128, 255, 0.3)","stroke-width":"1"},null,8,D))),128)),l("circle",{r:g.value,cx:"0",cy:"0",fill:"rgba(255, 255, 0, 0.2)",stroke:"yellow","stroke-dasharray":"3,3","stroke-width":"1"},null,8,E),l("circle",{r:y.value,cx:"0",cy:"0",fill:"black"},null,8,G),(v(!0),c(I,null,V(x.value,o=>(v(),c("circle",{key:o.id,cx:o.x,cy:o.y,r:o.isPhoton?2:3,fill:o.isPhoton?"yellow":"white"},null,8,U))),128))]))])]),_:1,__:[3]}),d(n,{span:8},{default:f(()=>[t[11]||(t[11]=l("h3",null,"控制与数据",-1)),l("div",L,[t[4]||(t[4]=l("span",null,"黑洞质量 (M)",-1)),d(r,{modelValue:_.value,"onUpdate:modelValue":t[0]||(t[0]=o=>_.value=o),min:10,max:100,step:1},null,8,["modelValue"])]),l("div",T,[d(e,{onClick:t[1]||(t[1]=o=>w(!1))},{default:f(()=>t[5]||(t[5]=[a("发射探测器",-1)])),_:1,__:[5]}),d(e,{onClick:t[2]||(t[2]=o=>w(!0))},{default:f(()=>t[6]||(t[6]=[a("发射光子",-1)])),_:1,__:[6]})]),d(i),t[12]||(t[12]=l("h3",null,"理论数据",-1)),l("div",W,[l("p",null,[t[7]||(t[7]=a("事件视界半径: ",-1)),l("strong",null,B(y.value.toFixed(2)),1),t[8]||(t[8]=a(" units",-1))]),l("p",null,[t[9]||(t[9]=a("光子球层半径: ",-1)),l("strong",null,B(g.value.toFixed(2)),1),t[10]||(t[10]=a(" units",-1))])]),t[13]||(t[13]=l("div",{class:"explanation"},[l("ul",null,[l("li",null,[a("黑色区域是"),l("b",null,"事件视界"),a("，进入此区域的任何物体都无法逃脱。")]),l("li",null,[a("黄色虚线是"),l("b",null,"光子球层"),a("，光可以在此轨道上短暂环绕黑洞。")])])],-1))]),_:1,__:[11,12,13]})]),_:1})])}}},K=H(Z,[["__scopeId","data-v-c86c6d20"]]);export{K as default};
