import{M as o}from"./matter-BNAM3RYY.js";import{_ as B,r as C,o as w,a as M,b as k,d as V,e as W,g as a,f as A,w as E,i as N}from"./index-YlKLfbm5.js";const P={class:"content-card"},R={class:"simple-pendulum-experiment"},H={class:"controls"},S={__name:"SimplePendulum",setup(I){const r=C(null);let s,e,i,d,t;const f=()=>{const{Engine:u,Render:n,World:c,Bodies:_,Constraint:v,Runner:p,Mouse:y,MouseConstraint:g}=o;s=u.create(),i=s.world;const l=r.value.clientWidth;e=n.create({element:r.value,engine:s,options:{width:l,height:400,wireframes:!1,background:"#f0f0f0"}});const x={x:l/2,y:60};t=_.circle(l/2,250,30,{restitution:.8,friction:0,frictionAir:.005,slop:.05,density:.1});const h=v.create({pointA:x,bodyB:t,stiffness:.08,length:190});c.add(i,[t,h]);const b=y.create(e.canvas);d=g.create(s,{mouse:b,constraint:{stiffness:.2,render:{visible:!1}}}),c.add(i,d),p.run(p.create(),s),n.run(e)},m=()=>{t&&(o.Body.setPosition(t,{x:r.value.clientWidth/2,y:250}),o.Body.setVelocity(t,{x:0,y:0}),o.Body.setAngularVelocity(t,0))};return w(()=>{f()}),M(()=>{e&&(o.Render.stop(e),o.World.clear(i),o.Engine.clear(s),e.canvas.remove(),e.canvas=null,e.context=null,e.textures={})}),(u,n)=>{const c=k("el-button");return W(),V("div",P,[a("div",R,[a("div",H,[A(c,{onClick:m,type:"primary"},{default:E(()=>n[0]||(n[0]=[N("重置",-1)])),_:1,__:[0]})]),a("div",{ref_key:"canvasContainer",ref:r,class:"canvas-container"},null,512),n[1]||(n[1]=a("div",{class:"data-display"},[a("p",null,"将摆球拖拽到一侧后松开即可开始")],-1))])])}}},q=B(S,[["__scopeId","data-v-b97e22e2"]]);export{q as default};
