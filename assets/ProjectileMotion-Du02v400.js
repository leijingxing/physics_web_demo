import{M as l}from"./matter-BNAM3RYY.js";import{_ as W,r as p,o as j,a as H,b as _,d as I,e as N,g as n,f as s,w as r,i as k,t as C}from"./index-YlKLfbm5.js";const S={class:"content-card"},T={class:"projectile-motion-experiment"},F={class:"control-item"},L={class:"control-item"},A={class:"data-display"},B=10,D={__name:"ProjectileMotion",setup(X){const m=p(null),g=p(45),x=p(25),V=p(0),b=p(0);let a,c,M,t,v=!1;const P=()=>{const{Engine:d,Render:e,World:h,Bodies:i,Runner:f,Events:y}=l;a=d.create({gravity:{y:.98}}),M=a.world;const u=m.value.clientWidth,o=400;c=e.create({element:m.value,engine:a,options:{width:u,height:o,wireframes:!1,background:"#f0f0f0"}});const U=i.rectangle(u/2,o-10,u,20,{isStatic:!0});t=i.circle(50,o-30,10,{restitution:.5,friction:.05}),h.add(M,[U,t]),f.run(f.create(),a),e.run(c);let w=t.position.y;y.on(a,"beforeUpdate",()=>{v&&(t.position.y<w&&(w=t.position.y,V.value=(o-30-w)/B),t.position.y>o-40&&t.velocity.y>0&&(b.value=(t.position.x-50)/B,v=!1))})},R=()=>{E(),setTimeout(()=>{v=!0;const d=g.value*(Math.PI/180),e=x.value/B;l.Body.setVelocity(t,{x:e*Math.cos(d),y:-e*Math.sin(d)})},100)},E=()=>{v=!1,V.value=0,b.value=0,l.Body.setPosition(t,{x:50,y:m.value.clientHeight-30}),l.Body.setVelocity(t,{x:0,y:0}),l.Body.setAngularVelocity(t,0)};return j(P),H(()=>{c&&(l.Render.stop(c),l.World.clear(M),l.Engine.clear(a),c.canvas.remove())}),(d,e)=>{const h=_("el-slider"),i=_("el-col"),f=_("el-input-number"),y=_("el-button"),u=_("el-row");return N(),I("div",S,[n("div",T,[s(u,{gutter:20,class:"controls"},{default:r(()=>[s(i,{span:8},{default:r(()=>[n("div",F,[e[2]||(e[2]=n("span",null,"发射角度 (°)",-1)),s(h,{modelValue:g.value,"onUpdate:modelValue":e[0]||(e[0]=o=>g.value=o),min:0,max:90,"show-input":""},null,8,["modelValue"])])]),_:1}),s(i,{span:8},{default:r(()=>[n("div",L,[e[3]||(e[3]=n("span",null,"初始速度 (m/s)",-1)),s(f,{modelValue:x.value,"onUpdate:modelValue":e[1]||(e[1]=o=>x.value=o),min:5,max:50},null,8,["modelValue"])])]),_:1}),s(i,{span:8,class:"actions"},{default:r(()=>[s(y,{onClick:R,type:"primary"},{default:r(()=>e[4]||(e[4]=[k("发射",-1)])),_:1,__:[4]}),s(y,{onClick:E},{default:r(()=>e[5]||(e[5]=[k("重置",-1)])),_:1,__:[5]})]),_:1})]),_:1}),n("div",{ref_key:"canvasContainer",ref:m,class:"canvas-container"},null,512),n("div",A,[n("p",null,"最大高度: "+C(V.value.toFixed(2))+" m",1),n("p",null,"水平射程: "+C(b.value.toFixed(2))+" m",1)])])])}}},z=W(D,[["__scopeId","data-v-bf496bde"]]);export{z as default};
