import{_ as K,r as d,c as a,b as i,d as V,e as C,f as t,w as r,g as f,i as b,t as y,j as O,k as Q}from"./index-YlKLfbm5.js";const R={class:"content-card"},Z={class:"control-item"},ee={class:"control-item"},oe={class:"control-item info"},ne={key:0},te={key:1},w=800,M=400,le={__name:"LensImaging",setup(ae){const e=w/2,o=M/2,T=d({width:w,height:M}),j=d({points:[0,o,w,o],stroke:"#ccc",strokeWidth:1}),c=d("convex"),_=d(100),g=d(-200),v=d(50),I=s=>{const n=s.target.x();n<e?g.value=n-e:s.target.x(e-1)},p=a(()=>c.value==="convex"?_.value:-_.value),N=a(()=>({x:e+g.value,y:o,points:[0,0,0,-v.value],pointerLength:8,pointerWidth:8,fill:"blue",stroke:"blue",strokeWidth:4,draggable:!0})),l=a(()=>{const s=-g.value;if(Math.abs(s-p.value)<1)return{type:"none",magnification:"物体位于焦点，不成像（或像在无穷远）"};const n=1/(1/p.value-1/s),u=-n/s,m=c.value==="convex"&&n>0||c.value==="concave"&&n<0?"实像":"虚像";return{x:n,y:u*v.value,type:m,orientation:u>0?"正立":"倒立",magnification:`放大率: ${Math.abs(u).toFixed(2)}x`}}),P=a(()=>({x:e+l.value.x,y:o,points:[0,0,0,-l.value.y],pointerLength:8,pointerWidth:8,fill:"red",stroke:"red",strokeWidth:4,opacity:l.value.type==="实像"?1:.5})),D=a(()=>{const s=l.value.type==="虚像",n=l.value.x,u=-g.value,m=-n/u,h=[e+g.value,o-v.value,e,o-v.value,e+n,o-m*v.value];return s&&h.push(e,o-v.value),{points:h,stroke:"orange",strokeWidth:2,dash:s?[6,2]:[]}}),X=a(()=>({points:[e+g.value,o-v.value,e+l.value.x,o-l.value.y],stroke:"green",strokeWidth:2,dash:l.value.type==="虚像"?[6,2]:[]})),A=a(()=>({points:[],strokeWidth:0})),H=a(()=>({points:[e,o-80,e,o+80],stroke:"#666",strokeWidth:3})),U=a(()=>({points:c.value==="convex"?[e,o-80,e,o-82]:[e,o-80,e,o-78],stroke:"#666",fill:"#666",pointerLength:8,pointerWidth:12})),E=a(()=>({points:c.value==="convex"?[e,o+80,e,o+82]:[e,o+80,e,o+78],stroke:"#666",fill:"#666",pointerLength:8,pointerWidth:12})),S=a(()=>({x:e-p.value,y:o,radius:4,fill:"purple"})),Y=a(()=>({x:e-p.value-10,y:o+10,text:c.value==="convex"?"F":"F'",fill:"purple"})),$=a(()=>({x:e+p.value,y:o,radius:4,fill:"purple"})),q=a(()=>({x:e+p.value-10,y:o+10,text:c.value==="convex"?"F'":"F",fill:"purple"}));return(s,n)=>{const u=i("el-radio-button"),m=i("el-radio-group"),h=i("el-slider"),F=i("el-col"),x=i("v-line"),k=i("v-arrow"),L=i("v-circle"),B=i("v-text"),z=i("v-layer"),G=i("v-stage"),J=i("el-row");return C(),V("div",R,[t(J,{gutter:20},{default:r(()=>[t(F,{span:24,class:"controls-container"},{default:r(()=>[f("div",Z,[n[4]||(n[4]=f("span",null,"透镜类型:",-1)),t(m,{modelValue:c.value,"onUpdate:modelValue":n[0]||(n[0]=W=>c.value=W)},{default:r(()=>[t(u,{label:"convex"},{default:r(()=>n[2]||(n[2]=[b("凸透镜",-1)])),_:1,__:[2]}),t(u,{label:"concave"},{default:r(()=>n[3]||(n[3]=[b("凹透镜",-1)])),_:1,__:[3]})]),_:1},8,["modelValue"])]),f("div",ee,[f("span",null,"焦距 (f): "+y(_.value)+" px",1),t(h,{modelValue:_.value,"onUpdate:modelValue":n[1]||(n[1]=W=>_.value=W),min:50,max:200,step:5},null,8,["modelValue"])]),f("div",oe,[n[5]||(n[5]=f("p",null,[b("拖动"),f("b",null,"蓝色"),b("箭头（物体）来观察成像变化。")],-1)),l.value.type!=="none"?(C(),V("p",ne," 像: "+y(l.value.type)+", "+y(l.value.orientation)+", "+y(l.value.magnification),1)):(C(),V("p",te,y(l.value.magnification),1))])]),_:1}),t(F,{span:24},{default:r(()=>[t(G,{config:T.value},{default:r(()=>[t(z,null,{default:r(()=>[t(x,{config:j.value},null,8,["config"]),t(x,{config:H.value},null,8,["config"]),t(k,{config:U.value},null,8,["config"]),t(k,{config:E.value},null,8,["config"]),t(L,{config:S.value},null,8,["config"]),t(B,{config:Y.value},null,8,["config"]),t(L,{config:$.value},null,8,["config"]),t(B,{config:q.value},null,8,["config"]),t(k,{config:N.value,onDragmove:I},null,8,["config"]),t(x,{config:D.value},null,8,["config"]),t(x,{config:X.value},null,8,["config"]),t(x,{config:A.value},null,8,["config"]),l.value.type!=="none"?(C(),O(k,{key:0,config:P.value},null,8,["config"])):Q("",!0)]),_:1})]),_:1},8,["config"])]),_:1})]),_:1})])}}},se=K(le,[["__scopeId","data-v-9c820579"]]);export{se as default};
