import{_ as N,r as m,c as h,a as A,b as _,d as T,e as U,f as o,w as x,g as e,i,t as g}from"./index-YlKLfbm5.js";const E={class:"content-card"},G={class:"control-item"},H={class:"control-item"},P={class:"control-item"},W={class:"actions"},Y={class:"data-display"},j={class:"graph-container"},q=["viewBox"],J=["y1","x2","y2"],K=["y2"],L=["y"],O=["y"],Q=["x","y"],X=["points"],C=500,n=300,l=20,Z={__name:"RCCircuit",setup(tt){const u=m(12),b=m(10),k=m(100),d=m(""),a=m(0),f=m(0),c=m("");let V=null;const y=h(()=>b.value*k.value),M=()=>{w();const r=Date.now(),t=a.value,s=y.value;V=setInterval(()=>{const v=Date.now()-r;f.value=v/1e3,d.value==="charge"?a.value=u.value*(1-Math.exp(-v/s)):d.value==="discharge"&&(a.value=t*Math.exp(-v/s)),F(),v>=s*5&&(w(),a.value=d.value==="charge"?u.value:0,F())},16)},w=()=>{V&&(clearInterval(V),V=null)},F=()=>{const r=y.value*5,t=l+f.value*1e3/r*(C-2*l),s=n-l-a.value/u.value*(n-2*l);isFinite(t)&&isFinite(s)&&(c.value+=` ${t},${s}`)},$=()=>{w(),d.value="",a.value=0,f.value=0,c.value=`${l},${n-l}`},R=r=>{$(),d.value=r,r==="discharge"&&(a.value=u.value),c.value=`${l},${n-l-a.value/u.value*(n-2*l)}`,M()};return A(w),$(),(r,t)=>{const s=_("el-input-number"),v=_("el-divider"),B=_("el-radio-button"),z=_("el-radio-group"),D=_("el-button"),S=_("el-col"),I=_("el-row");return U(),T("div",E,[o(I,{gutter:30},{default:x(()=>[o(S,{span:8},{default:x(()=>[t[16]||(t[16]=e("h3",null,"电路参数",-1)),e("div",G,[t[4]||(t[4]=e("span",null,"电源电压 (V)",-1)),o(s,{modelValue:u.value,"onUpdate:modelValue":t[0]||(t[0]=p=>u.value=p),min:1,max:100},null,8,["modelValue"])]),e("div",H,[t[5]||(t[5]=e("span",null,"电阻 (R, kΩ)",-1)),o(s,{modelValue:b.value,"onUpdate:modelValue":t[1]||(t[1]=p=>b.value=p),min:1,max:100},null,8,["modelValue"])]),e("div",P,[t[6]||(t[6]=e("span",null,"电容 (C, μF)",-1)),o(s,{modelValue:k.value,"onUpdate:modelValue":t[2]||(t[2]=p=>k.value=p),min:1,max:1e3},null,8,["modelValue"])]),o(v),t[17]||(t[17]=e("h3",null,"操作",-1)),e("div",W,[o(z,{modelValue:d.value,"onUpdate:modelValue":t[3]||(t[3]=p=>d.value=p),onChange:R},{default:x(()=>[o(B,{label:"charge"},{default:x(()=>t[7]||(t[7]=[i("充电",-1)])),_:1,__:[7]}),o(B,{label:"discharge"},{default:x(()=>t[8]||(t[8]=[i("放电",-1)])),_:1,__:[8]})]),_:1},8,["modelValue"]),o(D,{onClick:$,style:{"margin-left":"10px"}},{default:x(()=>t[9]||(t[9]=[i("重置",-1)])),_:1,__:[9]})]),o(v),t[18]||(t[18]=e("h3",null,"实时数据",-1)),e("div",Y,[e("p",null,[t[10]||(t[10]=i("时间常数 (τ): ",-1)),e("strong",null,g(y.value.toFixed(2)),1),t[11]||(t[11]=i(" ms",-1))]),e("p",null,[t[12]||(t[12]=i("电容电压: ",-1)),e("strong",null,g(a.value.toFixed(2)),1),t[13]||(t[13]=i(" V",-1))]),e("p",null,[t[14]||(t[14]=i("已用时间: ",-1)),e("strong",null,g(f.value.toFixed(2)),1),t[15]||(t[15]=i(" s",-1))])])]),_:1,__:[16,17,18]}),o(S,{span:16},{default:x(()=>[t[19]||(t[19]=e("h3",null,"电压-时间曲线",-1)),e("div",j,[(U(),T("svg",{viewBox:`0 0 ${C} ${n}`,preserveAspectRatio:"xMidYMid meet"},[e("line",{x1:l,y1:n-l,x2:C-l,y2:n-l,stroke:"#666"},null,8,J),e("line",{x1:l,y1:l,x2:l,y2:n-l,stroke:"#666"},null,8,K),e("text",{x:"5",y:l+10,"font-size":"10"},g(u.value)+"V",9,L),e("text",{x:"5",y:n-l,"font-size":"10"},"0V",8,O),e("text",{x:C-l-10,y:n-l+15,"font-size":"10"},g((y.value*5/1e3).toFixed(1))+"s",9,Q),e("polyline",{points:c.value,fill:"none",stroke:"var(--primary-color)","stroke-width":"2"},null,8,X)],8,q))])]),_:1,__:[19]})]),_:1})])}}},lt=N(Z,[["__scopeId","data-v-ce8395f1"]]);export{lt as default};
