import{M as t}from"./matter-BNAM3RYY.js";import{_ as V,r as p,o as W,a as k,b as C,d as E,e as R,g as s,f as M,w as N,i as l,t as b}from"./index-YlKLfbm5.js";const H={class:"content-card"},P={class:"free-fall-experiment"},S={class:"controls"},U={class:"data-display"},A={__name:"FreeFall",setup(D){const a=p(null),v=p(0),f=p(0);let r,n,o,d,i;const h=()=>{const y=t.Engine,e=t.Render,u=t.World,_=t.Bodies,g=t.Runner;r=y.create(),i=r.world;const c=a.value.clientWidth,m=400;n=e.create({element:a.value,engine:r,options:{width:c,height:m,wireframes:!1,background:"#f0f0f0"}}),o=_.circle(c/2,30,20,{restitution:.4,friction:.01}),d=_.rectangle(c/2,m-10,c,20,{isStatic:!0}),u.add(i,[o,d]),g.run(g.create(),r),e.run(n),t.Events.on(r,"beforeUpdate",()=>{const x=o.velocity.y,F=o.position.y;v.value=x>0?x:0;const B=(d.position.y-F-10-20)/100;f.value=B>0?B:0})},w=()=>{o&&i&&(t.Body.setPosition(o,{x:a.value.clientWidth/2,y:30}),t.Body.setVelocity(o,{x:0,y:0}),t.Body.setAngularVelocity(o,0))};return W(()=>{h()}),k(()=>{n&&(t.Render.stop(n),t.World.clear(i),t.Engine.clear(r),n.canvas.remove(),n.canvas=null,n.context=null,n.textures={})}),(y,e)=>{const u=C("el-button");return R(),E("div",H,[s("div",P,[s("div",S,[M(u,{onClick:w,type:"primary"},{default:N(()=>e[0]||(e[0]=[l("重置",-1)])),_:1,__:[0]})]),s("div",{ref_key:"canvasContainer",ref:a,class:"canvas-container"},null,512),s("div",U,[s("p",null,[e[1]||(e[1]=l("小球速度: ",-1)),s("strong",null,b(v.value.toFixed(2)),1),e[2]||(e[2]=l(" m/s",-1))]),s("p",null,[e[3]||(e[3]=l("下落高度: ",-1)),s("strong",null,b(f.value.toFixed(2)),1),e[4]||(e[4]=l(" m",-1))])])])])}}},j=V(A,[["__scopeId","data-v-6e72a502"]]);export{j as default};
